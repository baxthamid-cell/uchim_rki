<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–º—è —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ | 10 –∫–ª–∞—Å—Å –í2 | –§–∏—Ä–º–µ–Ω–Ω—ã–π2</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Merriweather:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /* === –§–ò–†–ú–ï–ù–ù–´–ô2: –û–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ === */
            --header-dark: linear-gradient(135deg, #1a237e 0%, #0d1b4a 50%, #0a1635 100%);
            --header-accent: #64b5f6;
            
            --azure-glow: rgba(100, 181, 246, 0.25);
            --azure-border: rgba(100, 181, 246, 0.45);
            --azure-light: rgba(100, 181, 246, 0.12);
            
            --ending-color: #d32f2f;
            --ending-bg: rgba(211, 47, 47, 0.1);
            
            --bg-main: #f5f7fa;
            --bg-card: #ffffff;
            --bg-secondary: #fafbfc;
            
            --text-dark: #1a237e;
            --text-medium: #455a64;
            --text-light: #78909c;
            
            --correct: #00897b;
            --correct-bg: rgba(0, 137, 123, 0.1);
            --correct-light: rgba(0, 137, 123, 0.05);
            --incorrect: #e64a19;
            --incorrect-bg: rgba(230, 74, 25, 0.1);
            
            --hint-bg: linear-gradient(135deg, #fff8e1 0%, #fff3e0 100%);
            --hint-border: #ffb74d;
            --hint-text: #e65100;
            
            --block-a: #1976d2;
            --block-b: #00897b;
            --block-c: #7b1fa2;
            
            --shadow-sm: 0 2px 8px rgba(26, 35, 126, 0.06), 0 1px 3px rgba(0,0,0,0.04);
            --shadow-md: 0 4px 16px rgba(26, 35, 126, 0.1), 0 2px 6px rgba(0,0,0,0.05);
            --shadow-lg: 0 8px 32px rgba(26, 35, 126, 0.12), 0 4px 12px rgba(0,0,0,0.06);
            
            --radius: 24px;
            --radius-md: 16px;
            --radius-sm: 12px;
            
            --font-base: 1.35rem;
            --font-lg: 1.6rem;
            --font-xl: 2rem;
            --font-xxl: 2.5rem;
            --font-title: 2.8rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-user-select: none;
            -moz-user-select: none;
            user-select: none;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--bg-main);
            min-height: 100vh;
            color: var(--text-dark);
            line-height: 1.8;
            font-size: var(--font-base);
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 25px;
        }

        .header {
            background: var(--header-dark);
            border-radius: var(--radius);
            padding: 40px 35px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-lg);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 60%;
            height: 200%;
            background: radial-gradient(ellipse, rgba(100, 181, 246, 0.15) 0%, transparent 60%);
            pointer-events: none;
        }

        .header-badge {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: rgba(100, 181, 246, 0.15);
            border: 2px solid rgba(100, 181, 246, 0.35);
            padding: 10px 22px;
            border-radius: 30px;
            font-size: var(--font-base);
            font-weight: 800;
            color: var(--header-accent);
            margin-bottom: 18px;
            position: relative;
            z-index: 1;
        }

        .header h1 {
            font-family: 'Merriweather', serif;
            font-size: var(--font-title);
            color: #ffffff;
            position: relative;
            z-index: 1;
            margin-bottom: 10px;
            letter-spacing: -0.5px;
        }

        .header .subtitle {
            color: var(--header-accent);
            font-size: var(--font-xl);
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        .header .subtitle-uz {
            color: rgba(255, 255, 255, 0.6);
            font-size: var(--font-lg);
            font-weight: 600;
            position: relative;
            z-index: 1;
            margin-top: 6px;
            font-style: italic;
        }

        .tabs-wrapper {
            position: sticky;
            top: 0;
            z-index: 100;
            background: var(--bg-main);
            padding: 15px 0;
            margin: -15px 0 20px 0;
        }

        .tabs {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 14px 28px;
            border: 2px solid var(--azure-border);
            background: var(--bg-card);
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-size: var(--font-base);
            font-weight: 800;
            color: var(--text-dark);
            transition: all 0.25s ease;
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .tab-btn.active {
            background: var(--header-dark);
            color: #ffffff;
            border-color: transparent;
        }

        .section {
            display: none;
            animation: slideIn 0.35s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 35px;
            box-shadow: var(--shadow-md);
            border: 1px solid rgba(100, 181, 246, 0.2);
            margin-bottom: 25px;
        }

        .card-title {
            font-family: 'Merriweather', serif;
            font-size: var(--font-xxl);
            color: var(--text-dark);
            margin-bottom: 25px;
            padding-bottom: 18px;
            border-bottom: 2px solid var(--azure-light);
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .card-title .icon { font-size: var(--font-xxl); }
        .card-title .uz {
            font-size: var(--font-lg);
            color: var(--text-light);
            font-style: italic;
            font-family: 'Nunito', sans-serif;
            font-weight: 600;
        }

        .rule-box {
            background: var(--bg-secondary);
            border-left: 5px solid var(--header-accent);
            padding: 22px 28px;
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            margin-bottom: 22px;
        }

        .rule-title {
            font-weight: 900;
            color: var(--text-dark);
            margin-bottom: 12px;
            font-size: var(--font-lg);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rule-content {
            color: var(--text-medium);
            font-size: var(--font-base);
            line-height: 2;
        }

        .rule-content-uz {
            color: var(--text-light);
            font-size: calc(var(--font-base) - 0.1rem);
            font-style: italic;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px dashed var(--azure-border);
        }

        .num {
            color: var(--ending-color);
            font-weight: 800;
            background: var(--ending-bg);
            padding: 3px 10px;
            border-radius: 6px;
        }

        .grammar-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            margin: 22px 0;
            font-size: var(--font-base);
            border-radius: var(--radius-md);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .grammar-table th,
        .grammar-table td {
            padding: 16px 20px;
            text-align: left;
            border-bottom: 1px solid var(--azure-light);
        }

        .grammar-table th {
            background: var(--header-dark);
            color: #ffffff;
            font-weight: 800;
            font-size: var(--font-lg);
        }

        .grammar-table tr:last-child td { border-bottom: none; }
        .grammar-table tr:nth-child(even) { background: var(--bg-secondary); }
        .grammar-table tr:hover { background: var(--azure-light); }

        .example-box {
            background: var(--bg-secondary);
            padding: 22px;
            border-radius: var(--radius-md);
            margin-top: 18px;
            border: 1px dashed var(--azure-border);
        }

        .example-title {
            font-weight: 800;
            color: var(--text-dark);
            margin-bottom: 12px;
            font-size: var(--font-lg);
        }

        .example-item {
            padding: 12px 0;
            border-bottom: 1px dotted var(--azure-border);
            font-size: var(--font-base);
            line-height: 1.9;
        }

        .example-item:last-child { border-bottom: none; }

        .example-uz {
            color: var(--text-light);
            font-style: italic;
            display: block;
            margin-top: 6px;
            font-size: calc(var(--font-base) - 0.1rem);
        }

        .progress-container {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 20px 25px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-sm);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 20px;
        }

        .progress-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .circular-progress {
            position: relative;
            width: 70px;
            height: 70px;
        }

        .circular-progress svg { transform: rotate(-90deg); }
        .circular-progress circle { fill: none; stroke-width: 6; }
        .circular-progress .bg { stroke: #e0e0e0; }
        .circular-progress .progress {
            stroke: url(#progressGradient);
            stroke-linecap: round;
            transition: stroke-dashoffset 0.5s ease;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: 900;
            font-size: var(--font-base);
            color: var(--text-dark);
        }

        .progress-info { display: flex; flex-direction: column; gap: 5px; }
        .progress-label { font-weight: 800; color: var(--text-dark); font-size: var(--font-lg); }
        .progress-sublabel { color: var(--text-light); font-size: calc(var(--font-base) - 0.1rem); }

        .progress-score { display: flex; gap: 20px; }
        .score-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 800;
            font-size: var(--font-lg);
            padding: 8px 16px;
            border-radius: var(--radius-sm);
        }

        .score-correct { color: var(--correct); background: var(--correct-light); }
        .score-incorrect { color: var(--incorrect); background: rgba(230, 74, 25, 0.05); }

        .question-map {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 15px;
            background: var(--bg-secondary);
            border-radius: var(--radius-md);
            margin-bottom: 20px;
            justify-content: center;
        }

        .map-dot {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .map-dot.unanswered { background: #e0e0e0; color: var(--text-light); }
        .map-dot.current { background: var(--header-dark); color: #ffffff; transform: scale(1.15); box-shadow: var(--shadow-md); }
        .map-dot.correct { background: var(--correct); color: #ffffff; }
        .map-dot.incorrect { background: var(--incorrect); color: #ffffff; }
        .map-dot.block-a { border-color: var(--block-a); }
        .map-dot.block-b { border-color: var(--block-b); }
        .map-dot.block-c { border-color: var(--block-c); }

        .question-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 35px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 20px;
            border: 1px solid rgba(100, 181, 246, 0.2);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 22px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .question-number {
            background: var(--header-dark);
            color: #ffffff;
            padding: 10px 22px;
            border-radius: 25px;
            font-weight: 900;
            font-size: var(--font-base);
        }

        .question-type {
            padding: 8px 18px;
            border-radius: 20px;
            font-size: calc(var(--font-base) - 0.1rem);
            font-weight: 700;
            color: #ffffff;
        }

        .question-type.block-a { background: var(--block-a); }
        .question-type.block-b { background: var(--block-b); }
        .question-type.block-c { background: var(--block-c); }

        .question-text {
            font-size: var(--font-xl);
            color: var(--text-dark);
            margin-bottom: 25px;
            line-height: 1.8;
            font-weight: 600;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 22px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 18px 22px;
            background: var(--bg-card);
            border: 2px solid #e0e0e0;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.25s ease;
        }

        .option:hover { transform: translateX(8px); border-color: var(--header-accent); box-shadow: var(--shadow-sm); }
        .option.selected { border-color: var(--text-dark); background: var(--azure-light); }
        .option.correct { border-color: var(--correct); background: var(--correct-bg); }
        .option.incorrect { border-color: var(--incorrect); background: var(--incorrect-bg); }
        .option.disabled { pointer-events: none; opacity: 0.7; }

        .option-marker {
            width: 44px;
            height: 44px;
            background: var(--bg-secondary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            color: var(--text-dark);
            margin-right: 18px;
            flex-shrink: 0;
            font-size: var(--font-base);
            transition: all 0.25s ease;
        }

        .option.selected .option-marker { background: var(--text-dark); color: #ffffff; }
        .option.correct .option-marker { background: var(--correct); color: #ffffff; }
        .option.incorrect .option-marker { background: var(--incorrect); color: #ffffff; }
        .option-text { font-size: var(--font-lg); font-weight: 700; color: var(--text-dark); }

        .hint-container { margin: 22px 0; }

        .hint-btn {
            background: var(--hint-bg);
            border: 2px solid var(--hint-border);
            padding: 12px 22px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-size: var(--font-base);
            font-weight: 800;
            color: var(--hint-text);
            transition: all 0.25s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .hint-btn:hover { transform: scale(1.02); box-shadow: 0 4px 15px rgba(255, 183, 77, 0.3); }
        .hint-btn .lamp { font-size: 1.3em; animation: pulse 2s infinite; }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .hint-box {
            display: none;
            background: var(--hint-bg);
            border: 2px solid var(--hint-border);
            border-radius: var(--radius-md);
            padding: 22px;
            margin-top: 15px;
        }

        .hint-box.show { display: block; animation: slideIn 0.3s ease; }
        .hint-label { font-weight: 900; color: var(--hint-text); margin-bottom: 8px; font-size: var(--font-base); }
        .hint-text { color: var(--text-medium); font-size: var(--font-base); line-height: 1.7; }
        .hint-text-uz { color: var(--text-light); font-style: italic; margin-top: 10px; padding-top: 10px; border-top: 1px dashed var(--hint-border); font-size: calc(var(--font-base) - 0.1rem); }

        .feedback {
            display: none;
            padding: 22px;
            border-radius: var(--radius-md);
            margin: 22px 0;
        }

        .feedback.show { display: block; animation: slideIn 0.3s ease; }
        .feedback.correct { background: var(--correct-bg); border: 2px solid var(--correct); }
        .feedback.incorrect { background: var(--incorrect-bg); border: 2px solid var(--incorrect); }
        .feedback-title { font-weight: 900; font-size: var(--font-xl); margin-bottom: 10px; }
        .feedback.correct .feedback-title { color: var(--correct); }
        .feedback.incorrect .feedback-title { color: var(--incorrect); }
        .feedback-text { color: var(--text-medium); font-size: var(--font-base); line-height: 1.7; }
        .feedback-explanation { margin-top: 12px; padding-top: 12px; border-top: 1px dashed currentColor; font-size: calc(var(--font-base) - 0.05rem); }

        .btn-container { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }

        .btn {
            padding: 16px 35px;
            border: none;
            border-radius: var(--radius-sm);
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-size: var(--font-base);
            font-weight: 800;
            transition: all 0.25s ease;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary { background: var(--header-dark); color: #ffffff; }
        .btn-primary:hover:not(:disabled) { transform: translateY(-2px); box-shadow: var(--shadow-md); }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-next { background: linear-gradient(135deg, var(--correct) 0%, #00695c 100%); color: #ffffff; }
        .btn-next:hover { transform: translateX(5px); }
        .btn-restart { background: linear-gradient(135deg, #64b5f6 0%, #1976d2 100%); color: #ffffff; }

        .results-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 45px;
            text-align: center;
            box-shadow: var(--shadow-lg);
        }

        .results-icon { font-size: 5rem; margin-bottom: 20px; }
        .results-score {
            font-size: 4rem;
            font-weight: 900;
            background: var(--header-dark);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .results-title {
            font-family: 'Merriweather', serif;
            font-size: var(--font-xxl);
            color: var(--text-dark);
            margin-bottom: 25px;
        }

        .results-stats { display: flex; justify-content: center; gap: 20px; margin-bottom: 25px; flex-wrap: wrap; }

        .stat-block {
            background: var(--bg-secondary);
            padding: 18px 25px;
            border-radius: var(--radius-md);
            min-width: 140px;
            border-left: 4px solid;
        }

        .stat-block.block-a { border-color: var(--block-a); }
        .stat-block.block-b { border-color: var(--block-b); }
        .stat-block.block-c { border-color: var(--block-c); }
        .stat-label { font-size: calc(var(--font-base) - 0.1rem); color: var(--text-light); margin-bottom: 5px; }
        .stat-value { font-size: var(--font-xl); font-weight: 900; color: var(--text-dark); }

        .results-recommendation {
            background: var(--hint-bg);
            border: 2px solid var(--hint-border);
            padding: 20px;
            border-radius: var(--radius-md);
            margin-bottom: 25px;
            text-align: left;
        }

        .recommendation-title { font-weight: 800; color: var(--hint-text); margin-bottom: 8px; font-size: var(--font-base); }
        .recommendation-text { color: var(--text-medium); font-size: var(--font-base); }

        .author-info {
            margin-top: 25px;
            padding-top: 20px;
            border-top: 1px solid var(--azure-light);
            text-align: center;
            font-size: calc(var(--font-base) - 0.1rem);
            color: var(--text-light);
        }

        .author-info-name { font-weight: 800; color: var(--text-dark); }

        .footer {
            text-align: center;
            padding: 25px;
            color: var(--text-light);
            font-size: var(--font-base);
        }

        .footer-brand { font-weight: 700; color: var(--text-medium); }

        @media (max-width: 900px) {
            :root {
                --font-base: 1.15rem;
                --font-lg: 1.35rem;
                --font-xl: 1.7rem;
                --font-xxl: 2rem;
                --font-title: 2.3rem;
            }
            .container { padding: 15px; }
            .header { padding: 30px 20px; }
            .card, .question-card { padding: 25px; }
            .circular-progress { width: 55px; height: 55px; }
        }

        body { -webkit-touch-callout: none; }
    </style>
</head>
<body oncontextmenu="return false;" ondragstart="return false;">
    <svg width="0" height="0">
        <defs>
            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#1a237e"/>
                <stop offset="100%" style="stop-color:#64b5f6"/>
            </linearGradient>
        </defs>
    </svg>

    <div class="container">
        <header class="header">
            <div class="header-badge">
                <span>üìö</span>
                <span>10 –∫–ª–∞—Å—Å ‚Ä¢ –£—Ä–æ–≤–µ–Ω—å –í2</span>
            </div>
            <h1>–ò–º—è —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ</h1>
            <div class="subtitle">–ü—Ä–æ—Ñ–µ—Å—Å–∏–∏ –Ω–∞ –≤—Å–µ –≤—Ä–µ–º–µ–Ω–∞ ‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ</div>
            <div class="subtitle-uz">Son ‚Ä¢ Miqdor va tartib sonlari</div>
        </header>

        <div class="tabs-wrapper">
            <div class="tabs">
                <button class="tab-btn active" onclick="showSection('grammar', this)">
                    <span>üìñ</span> –ü—Ä–∞–≤–∏–ª–∞
                </button>
                <button class="tab-btn" onclick="showSection('test', this)">
                    <span>‚úèÔ∏è</span> –¢–µ—Å—Ç (25)
                </button>
                <button class="tab-btn" onclick="showSection('results', this)" id="resultsTab" style="display:none;">
                    <span>üìä</span> –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
                </button>
            </div>
        </div>

        <!-- ===== –ü–†–ê–í–ò–õ–ê ===== -->
        <section id="grammar" class="section active">
            <div class="card">
                <h2 class="card-title">
                    <span class="icon">üî¢</span> 
                    –ò–º—è —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ
                    <span class="uz">(Son)</span>
                </h2>
                
                <div class="rule-box">
                    <div class="rule-title">üìå –í–∏–¥—ã —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö</div>
                    <div class="rule-content">
                        <strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ</strong> (—Å–∫–æ–ª—å–∫–æ?): <span class="num">–æ–¥–∏–Ω</span>, <span class="num">–¥–≤–∞–¥—Ü–∞—Ç—å –æ–¥–∏–Ω</span>, <span class="num">—Ç—Ä–æ–µ</span>, <span class="num">—á–µ—Ç–≤–µ—Ä–æ</span><br><br>
                        <strong>–ü–æ—Ä—è–¥–∫–æ–≤—ã–µ</strong> (–∫–∞–∫–æ–π? –∫–æ—Ç–æ—Ä—ã–π?): <span class="num">–ø–µ—Ä–≤—ã–π</span>, <span class="num">–≤—Ç–æ—Ä–æ–π</span>, <span class="num">—Ç—Ä–µ—Ç–∏–π</span>
                    </div>
                    <div class="rule-content-uz">
                        <strong>Miqdor sonlari</strong> (nechta?): bir, yigirma bir, uchov, to'rtov<br>
                        <strong>Tartib sonlari</strong> (qaysi? nechanchi?): birinchi, ikkinchi, uchinchi
                    </div>
                </div>

                <div class="rule-box">
                    <div class="rule-title">üìå –°–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö</div>
                    <div class="rule-content">
                        <strong>–í —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö</strong> —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏–∏ –∏–∑–º–µ–Ω—è—é—Ç—Å—è <strong>–û–ë–ï —á–∞—Å—Ç–∏</strong>:<br>
                        <em>–ê–∫—Ü–∏—è –ø—Ä–æ–π–¥—ë—Ç –≤ <span class="num">—Å–µ–º–∏–¥–µ—Å—è—Ç–∏ —Ç—Ä—ë—Ö</span> —à–∫–æ–ª–∞—Ö.</em><br><br>
                        <strong>–í —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –ø–æ—Ä—è–¥–∫–æ–≤—ã—Ö</strong> —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ <strong>–ü–û–°–õ–ï–î–ù–Ø–Ø —á–∞—Å—Ç—å</strong>:<br>
                        <em>–ö–æ–º–ø–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–µ–≤—Ä–∞–ª—è <span class="num">–¥–≤–µ —Ç—ã—Å—è—á–∏ –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ</span> –≥–æ–¥–∞.</em>
                    </div>
                    <div class="rule-content-uz">
                        <strong>Murakkab miqdor sonlarida</strong> ‚Äî barcha qismlar o'zgaradi.<br>
                        <strong>Murakkab tartib sonlarida</strong> ‚Äî faqat oxirgi qism o'zgaradi.
                    </div>
                </div>

                <table class="grammar-table">
                    <tr>
                        <th>–ü–∞–¥–µ–∂</th>
                        <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ</th>
                        <th>–ü–æ—Ä—è–¥–∫–æ–≤–æ–µ</th>
                    </tr>
                    <tr>
                        <td>–ò.–ø.</td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–æ–¥–∏–Ω</span></td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–ø–µ—Ä–≤—ã–π</span></td>
                    </tr>
                    <tr>
                        <td>–†.–ø.</td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç–∏ <span class="num">–æ–¥–Ω–æ–≥–æ</span></td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–ø–µ—Ä–≤–æ–≥–æ</span></td>
                    </tr>
                    <tr>
                        <td>–î.–ø.</td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç–∏ <span class="num">–æ–¥–Ω–æ–º—É</span></td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–ø–µ—Ä–≤–æ–º—É</span></td>
                    </tr>
                    <tr>
                        <td>–í.–ø.</td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–æ–¥–∏–Ω</span> / –¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–æ–¥–Ω–æ–≥–æ</span></td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–ø–µ—Ä–≤—ã–π</span> / <span class="num">–ø–µ—Ä–≤–æ–≥–æ</span></td>
                    </tr>
                    <tr>
                        <td>–¢.–ø.</td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å—é <span class="num">–æ–¥–Ω–∏–º</span></td>
                        <td>–¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–ø–µ—Ä–≤—ã–º</span></td>
                    </tr>
                    <tr>
                        <td>–ü.–ø.</td>
                        <td>–æ –¥–≤–∞–¥—Ü–∞—Ç–∏ <span class="num">–æ–¥–Ω–æ–º</span></td>
                        <td>–æ –¥–≤–∞–¥—Ü–∞—Ç—å <span class="num">–ø–µ—Ä–≤–æ–º</span></td>
                    </tr>
                </table>

                <div class="rule-box">
                    <div class="rule-title">üìå –ó–∞–ø–æ–º–Ω–∏—Ç–µ!</div>
                    <div class="rule-content">
                        <span class="num">–û–¥–Ω–∏</span> + –º–Ω. —á–∏—Å–ª–æ: <em>–æ–¥–Ω–∏ –æ—á–∫–∏, –æ–¥–Ω–∏ –Ω–æ–∂–Ω–∏—Ü—ã, –æ–¥–Ω–∏ —Å—É—Ç–∫–∏, –æ–¥–Ω–∏ –±—Ä—é–∫–∏</em><br><br>
                        <span class="num">–ü–æ–ª–æ–≤–∏–Ω–∞</span> (¬Ω, 0,5) + –†.–ø.: <em>–ø–æ–ª–æ–≤–∏–Ω–∞ —è–±–ª–æ–∫–∞</em><br><br>
                        <span class="num">–ü–æ–ª—Ç–æ—Ä–∞</span> (1¬Ω, 1,5) + –†.–ø. –µ–¥.—á.: <em>–ø–æ–ª—Ç–æ—Ä–∞ —á–∞—Å–∞, –ø–æ–ª—Ç–æ—Ä—ã –Ω–µ–¥–µ–ª–∏</em>
                    </div>
                </div>

                <div class="example-box">
                    <div class="example-title">üíº –ü—Ä–æ—Ñ–µ—Å—Å–∏—è —ç–∫–æ–Ω–æ–º–∏—Å—Ç–∞:</div>
                    <div class="example-item">
                        –ë–æ–ª–µ–µ <span class="num">80 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤</span> –≤—Ä–µ–º–µ–Ω–∏ —ç–∫–æ–Ω–æ–º–∏—Å—Ç–∞ —É—Ö–æ–¥–∏—Ç –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
                        <span class="example-uz">Iqtisodchining 80 foizdan ko'p vaqti raqamli ma'lumotlarni o'rganishga ketadi.</span>
                    </div>
                    <div class="example-item">
                        <span class="num">10 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤</span> ‚Äî –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ.
                        <span class="example-uz">10 foizi ‚Äî turli omillarning ta'sirini o'rganishga.</span>
                    </div>
                    <div class="example-item">
                        –≠—Ç–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –≤–æ–∑–Ω–∏–∫–ª–∞ <span class="num">—Å–æ—Ç–Ω–∏</span> –ª–µ—Ç –Ω–∞–∑–∞–¥.
                        <span class="example-uz">Bu kasb yuzlab yil oldin paydo bo'lgan.</span>
                    </div>
                </div>

                <div class="author-info">
                    <span class="author-info-name">–ë–∞—Ö—Ç–∏—è—Ä –•–∞–º–∏–¥–æ–≤</span> ‚Ä¢ –†–µ—Å–ø—É–±–ª–∏–∫–∞ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω
                </div>
            </div>
        </section>

        <!-- ===== –¢–ï–°–¢ ===== -->
        <section id="test" class="section">
            <div class="progress-container">
                <div class="progress-left">
                    <div class="circular-progress">
                        <svg width="70" height="70">
                            <circle class="bg" cx="35" cy="35" r="30"></circle>
                            <circle class="progress" cx="35" cy="35" r="30" 
                                stroke-dasharray="188.5" 
                                stroke-dashoffset="188.5" 
                                id="progressCircle"></circle>
                        </svg>
                        <div class="progress-text" id="progressPercent">0%</div>
                    </div>
                    <div class="progress-info">
                        <span class="progress-label">–í–æ–ø—Ä–æ—Å <span id="currentQ">1</span> / <span id="totalQ">25</span></span>
                        <span class="progress-sublabel" id="blockName">–ë–ª–æ–∫ –ê: –í–∏–¥—ã —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö</span>
                    </div>
                </div>
                <div class="progress-score">
                    <span class="score-item score-correct">‚úì <span id="correctCount">0</span></span>
                    <span class="score-item score-incorrect">‚úó <span id="incorrectCount">0</span></span>
                </div>
            </div>

            <div class="question-map" id="questionMap"></div>
            <div class="question-card" id="questionCard"></div>
        </section>

        <!-- ===== –†–ï–ó–£–õ–¨–¢–ê–¢–´ ===== -->
        <section id="results" class="section">
            <div class="results-card">
                <div class="results-icon" id="resultsIcon">üéì</div>
                <div class="results-score" id="resultsScore">0/25</div>
                <h2 class="results-title" id="resultsTitle">–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
                
                <div class="results-stats">
                    <div class="stat-block block-a">
                        <div class="stat-label">–ë–ª–æ–∫ –ê</div>
                        <div class="stat-value" id="statA">0/9</div>
                    </div>
                    <div class="stat-block block-b">
                        <div class="stat-label">–ë–ª–æ–∫ –ë</div>
                        <div class="stat-value" id="statB">0/8</div>
                    </div>
                    <div class="stat-block block-c">
                        <div class="stat-label">–ë–ª–æ–∫ –í</div>
                        <div class="stat-value" id="statC">0/8</div>
                    </div>
                </div>

                <div class="results-recommendation">
                    <div class="recommendation-title">üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</div>
                    <div class="recommendation-text" id="recommendationText">
                        –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –∏–∑—É—á–∞—Ç—å —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ!
                    </div>
                </div>

                <div class="btn-container">
                    <button class="btn btn-restart" onclick="restartTest()">üîÑ –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                    <button class="btn btn-primary" onclick="showSection('grammar', document.querySelector('.tab-btn'))">üìñ –ö –ø—Ä–∞–≤–∏–ª–∞–º</button>
                </div>

                <div class="author-info">
                    <span class="author-info-name">–ë–∞—Ö—Ç–∏—è—Ä –•–∞–º–∏–¥–æ–≤</span> ‚Ä¢ –†–µ—Å–ø—É–±–ª–∏–∫–∞ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω
                </div>
            </div>
        </section>

        <footer class="footer">
            <div class="footer-brand">¬© 2025 –ë–∞—Ö—Ç–∏—è—Ä –•–∞–º–∏–¥–æ–≤ ‚Ä¢ –†–µ—Å–ø—É–±–ª–∏–∫–∞ –£–∑–±–µ–∫–∏—Å—Ç–∞–Ω | @rki_uz_bot</div>
        </footer>
    </div>

    <script>
        const questions = [
            // –ë–õ–û–ö –ê: –í–∏–¥—ã —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö (9 –≤–æ–ø—Ä–æ—Å–æ–≤)
            { block: "A", type: "–í–∏–¥—ã", question: "–ö–∞–∫–æ–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º?", options: ["–ø–µ—Ä–≤—ã–π", "–¥–≤–∞–¥—Ü–∞—Ç—å –æ–¥–∏–Ω", "—Ç—Ä–µ—Ç–∏–π"], correct: 1, hint: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´—Å–∫–æ–ª—å–∫–æ?¬ª", hintUz: "Miqdor soni ¬´nechta?¬ª savoliga javob beradi", explanation: "¬´–î–≤–∞–¥—Ü–∞—Ç—å –æ–¥–∏–Ω¬ª –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´—Å–∫–æ–ª—å–∫–æ?¬ª ‚Äî —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ." },
            { block: "A", type: "–í–∏–¥—ã", question: "–ö–∞–∫–æ–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ä—è–¥–∫–æ–≤—ã–º?", options: ["—Å—Ç–æ", "–ø—è—Ç—å—Å–æ—Ç", "–¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤—ã–π"], correct: 2, hint: "–ü–æ—Ä—è–¥–∫–æ–≤–æ–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´–∫–∞–∫–æ–π? –∫–æ—Ç–æ—Ä—ã–π?¬ª", hintUz: "Tartib soni ¬´qaysi?¬ª savoliga javob beradi", explanation: "¬´–î–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤—ã–π¬ª –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´–∫–∞–∫–æ–π?¬ª ‚Äî —ç—Ç–æ –ø–æ—Ä—è–¥–∫–æ–≤–æ–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ." },
            { block: "A", type: "–í–∏–¥—ã", question: "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ:", options: ["–æ–¥–∏–Ω, –ø–µ—Ä–≤—ã–π, –ø—è—Ç—å", "–æ–¥–∏–Ω–∞–∫–æ–≤—ã–π, –ø—è—Ç–µ—Ä–Ω—è, —Å–µ–º—ë—Ä–∫–∞", "–ø–µ—Ä–≤–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π, –ø—è—Ç–∏–º–∏–Ω—É—Ç–∫–∞"], correct: 0, hint: "–ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç —á–∏—Å–ª–æ –∏–ª–∏ –ø–æ—Ä—è–¥–æ–∫", hintUz: "Son ‚Äî raqam yoki tartibni bildiradi", explanation: "¬´–û–¥–∏–Ω, –ø–µ—Ä–≤—ã–π, –ø—è—Ç—å¬ª ‚Äî —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ. –û—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ." },
            { block: "A", type: "–í–∏–¥—ã", question: "–ö –∫–∞–∫–æ–º—É –≤–∏–¥—É –æ—Ç–Ω–æ—Å–∏—Ç—Å—è ¬´—Ç—Ä–æ–µ¬ª?", options: ["–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ", "–ü–æ—Ä—è–¥–∫–æ–≤–æ–µ", "–°–æ–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ–µ"], correct: 2, hint: "–û–±–æ–∑–Ω–∞—á–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∫ –æ–¥–Ω–æ —Ü–µ–ª–æ–µ", hintUz: "Butun birligi sifatida miqdorni bildiradi", explanation: "¬´–¢—Ä–æ–µ¬ª ‚Äî —Å–æ–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ (—Ç—Ä–æ–µ –¥—Ä—É–∑–µ–π)." },
            { block: "A", type: "–í–∏–¥—ã", question: "–ö–∞–∫–æ–µ —Å–ª–æ–≤–æ –ù–ï —è–≤–ª—è–µ—Ç—Å—è —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º?", options: ["—Å–µ–º—å", "—Å–µ–º—ë—Ä–∫–∞", "—Å–µ–¥—å–º–æ–π"], correct: 1, hint: "–ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ ¬´—Å–∫–æ–ª—å–∫–æ?¬ª –∏–ª–∏ ¬´–∫–∞–∫–æ–π?¬ª", hintUz: "Son ¬´nechta?¬ª yoki ¬´qaysi?¬ª ga javob beradi", explanation: "¬´–°–µ–º—ë—Ä–∫–∞¬ª ‚Äî —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–µ (—á—Ç–æ?), –∞ –Ω–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ." },
            { block: "A", type: "–í–∏–¥—ã", question: "–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –≤–∏–¥: ¬´–≤ –¥–≤–µ —Ç—ã—Å—è—á–∏ –¥–≤–∞–¥—Ü–∞—Ç—å –ø—è—Ç–æ–º –≥–æ–¥—É¬ª", options: ["–ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ", "–ü–æ—Ä—è–¥–∫–æ–≤–æ–µ", "–°–æ–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ–µ"], correct: 1, hint: "–í –∫–∞–∫–æ–º –≥–æ–¥—É? ‚Äî –≤ ... –≥–æ–¥—É", hintUz: "Qaysi yilda? ‚Äî ... yilda", explanation: "¬´–î–≤–∞–¥—Ü–∞—Ç—å –ø—è—Ç–æ–º¬ª ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤–æ–µ (–≤ –∫–∞–∫–æ–º –≥–æ–¥—É?)." },
            { block: "A", type: "–í–∏–¥—ã", question: "¬´–û–¥–Ω–∏ –Ω–æ–∂–Ω–∏—Ü—ã¬ª ‚Äî —Å–ª–æ–≤–æ ¬´–æ–¥–Ω–∏¬ª —ç—Ç–æ:", options: ["–ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ", "–ß–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ", "–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω–æ–µ"], correct: 1, hint: "–û–¥–Ω–∏ + —Å—É—â. —Ç–æ–ª—å–∫–æ –≤–æ –º–Ω.—á.", hintUz: "–û–¥–Ω–∏ + faqat ko'plik shaklidagi otlar", explanation: "¬´–û–¥–Ω–∏¬ª ‚Äî —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ, —É–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –º–Ω.—á. (–Ω–æ–∂–Ω–∏—Ü—ã, –±—Ä—é–∫–∏)." },
            { block: "A", type: "–í–∏–¥—ã", question: "–ö–∞–∫–æ–π –≤–æ–ø—Ä–æ—Å –∑–∞–¥–∞—ë–º –∫ –ø–æ—Ä—è–¥–∫–æ–≤–æ–º—É —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–º—É?", options: ["–°–∫–æ–ª—å–∫–æ?", "–ö–∞–∫–æ–π? –ö–æ—Ç–æ—Ä—ã–π?", "–ö–∞–∫?"], correct: 1, hint: "–ü–æ—Ä—è–¥–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –ø—Ä–∏ —Å—á—ë—Ç–µ", hintUz: "Sanashda tartib", explanation: "–ü–æ—Ä—è–¥–∫–æ–≤—ã–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å ¬´–∫–∞–∫–æ–π? –∫–æ—Ç–æ—Ä—ã–π?¬ª" },
            { block: "A", type: "–í–∏–¥—ã", question: "¬´–ü–æ–ª—Ç–æ—Ä–∞ —á–∞—Å–∞¬ª ‚Äî —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ ¬´–ø–æ–ª—Ç–æ—Ä–∞¬ª –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç:", options: ["1", "1,5", "2"], correct: 1, hint: "–ü–æ–ª + —Ç–æ—Ä–∞ = –ø–æ–ª–æ–≤–∏–Ω–∞ –≤—Ç–æ—Ä–æ–≥–æ", hintUz: "Bir yarim", explanation: "¬´–ü–æ–ª—Ç–æ—Ä–∞¬ª = 1¬Ω = 1,5" },

            // –ë–õ–û–ö –ë: –°–∫–ª–æ–Ω–µ–Ω–∏–µ (8 –≤–æ–ø—Ä–æ—Å–æ–≤)
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "–í —Å–æ—Å—Ç–∞–≤–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏–∏ –∏–∑–º–µ–Ω—è—é—Ç—Å—è:", options: ["–¢–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è —á–∞—Å—Ç—å", "–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω—è—è —á–∞—Å—Ç—å", "–û–±–µ —á–∞—Å—Ç–∏"], correct: 2, hint: "–°—Ä–∞–≤–Ω–∏—Ç–µ: –¥–≤–∞–¥—Ü–∞—Ç—å –æ–¥–∏–Ω ‚Äî –¥–≤–∞–¥—Ü–∞—Ç–∏ –æ–¥–Ω–æ–≥–æ", hintUz: "Solishtiring: yigirma bir ‚Äî yigirma birning", explanation: "–í —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω—è—é—Ç—Å—è –û–ë–ï —á–∞—Å—Ç–∏: –¥–≤–∞–¥—Ü–∞—Ç–∏ –æ–¥–Ω–æ–≥–æ, –¥–≤–∞–¥—Ü–∞—Ç—å—é –æ–¥–Ω–∏–º." },
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "–í —Å–æ—Å—Ç–∞–≤–Ω–æ–º –ø–æ—Ä—è–¥–∫–æ–≤–æ–º —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–º –ø—Ä–∏ —Å–∫–ª–æ–Ω–µ–Ω–∏–∏ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è:", options: ["–¢–æ–ª—å–∫–æ –ø–µ—Ä–≤–∞—è —á–∞—Å—Ç—å", "–¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω—è—è —á–∞—Å—Ç—å", "–û–±–µ —á–∞—Å—Ç–∏"], correct: 1, hint: "–°—Ä–∞–≤–Ω–∏—Ç–µ: –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤—ã–π ‚Äî –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ", hintUz: "Solishtiring: yigirma birinchi ‚Äî yigirma birinchining", explanation: "–í —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –ø–æ—Ä—è–¥–∫–æ–≤—ã—Ö –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ–¥–Ω—è—è —á–∞—Å—Ç—å: –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ." },
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "–í—Å—Ç–∞–≤—å—Ç–µ —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ: ¬´–ê–∫—Ü–∏—è –ø—Ä–æ–π–¥—ë—Ç –≤ _____ —à–∫–æ–ª–∞—Ö¬ª (73)", options: ["—Å–µ–º—å–¥–µ—Å—è—Ç —Ç—Ä–∏", "—Å–µ–º–∏–¥–µ—Å—è—Ç–∏ —Ç—Ä—ë—Ö", "—Å–µ–º—å–¥–µ—Å—è—Ç —Ç—Ä–µ—Ç—å–∏—Ö"], correct: 1, hint: "–í —á—ë–º? ‚Äî –ü.–ø., –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ", hintUz: "Nimada? ‚Äî o'rin-payt kelishigi", explanation: "–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –ø–∞–¥–µ–∂: ¬´–≤ —Å–µ–º–∏–¥–µ—Å—è—Ç–∏ —Ç—Ä—ë—Ö —à–∫–æ–ª–∞—Ö¬ª." },
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ñ–æ—Ä–º—É: ¬´—Å —Ñ–µ–≤—Ä–∞–ª—è _____ –≥–æ–¥–∞¬ª (2021)", options: ["–¥–≤–µ —Ç—ã—Å—è—á–∏ –¥–≤–∞–¥—Ü–∞—Ç—å –æ–¥–∏–Ω", "–¥–≤–µ —Ç—ã—Å—è—á–∏ –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ", "–¥–≤—É—Ö —Ç—ã—Å—è—á –¥–≤–∞–¥—Ü–∞—Ç—å –æ–¥–Ω–æ–≥–æ"], correct: 1, hint: "–ö–∞–∫–æ–≥–æ –≥–æ–¥–∞? ‚Äî –†.–ø., –ø–æ—Ä—è–¥–∫–æ–≤–æ–µ", hintUz: "Qaysi yilning? ‚Äî qaratqich kelishigi", explanation: "¬´–° —Ñ–µ–≤—Ä–∞–ª—è –¥–≤–µ —Ç—ã—Å—è—á–∏ –¥–≤–∞–¥—Ü–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –≥–æ–¥–∞¬ª ‚Äî –ø–æ—Ä—è–¥–∫–æ–≤–æ–µ –≤ –†.–ø." },
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "–í—Å—Ç–∞–≤—å—Ç–µ: ¬´–Ø –ø—Ä–æ—á–∏—Ç–∞–ª –æ–± _____ –≤–∞–∂–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏¬ª (1)", options: ["–æ–¥–∏–Ω", "–æ–¥–Ω–æ–º", "–æ–¥–Ω–æ–≥–æ"], correct: 1, hint: "–û —á—ë–º? ‚Äî –ü.–ø.", hintUz: "Nima haqida? ‚Äî o'rin-payt kelishigi", explanation: "–ü—Ä–µ–¥–ª–æ–∂–Ω—ã–π –ø–∞–¥–µ–∂: ¬´–æ–± –æ–¥–Ω–æ–º —Å–æ–±—ã—Ç–∏–∏¬ª." },
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "–í—Å—Ç–∞–≤—å—Ç–µ: ¬´–û–Ω –ø–æ–µ—Ö–∞–ª —Å _____ –∏–∑ –¥—Ä—É–∑–µ–π¬ª (1)", options: ["–æ–¥–∏–Ω", "–æ–¥–Ω–∏–º", "–æ–¥–Ω–æ–≥–æ"], correct: 1, hint: "–° –∫–µ–º? ‚Äî –¢.–ø.", hintUz: "Kim bilan? ‚Äî vosita kelishigi", explanation: "–¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂: ¬´—Å –æ–¥–Ω–∏–º –∏–∑ –¥—Ä—É–∑–µ–π¬ª." },
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "–í—ã–±–µ—Ä–∏—Ç–µ: ¬´–º–µ–∂–¥—É _____ –∏ _____ —á–∞—Å–∞–º–∏¬ª (3, 5)", options: ["—Ç—Ä–∏, –ø—è—Ç—å", "—Ç—Ä–µ–º—è, –ø—è—Ç—å—é", "—Ç—Ä—ë—Ö, –ø—è—Ç–∏"], correct: 1, hint: "–ú–µ–∂–¥—É —á–µ–º? ‚Äî –¢.–ø.", hintUz: "Nima bilan? ‚Äî vosita kelishigi", explanation: "–¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂: ¬´–º–µ–∂–¥—É —Ç—Ä–µ–º—è –∏ –ø—è—Ç—å—é —á–∞—Å–∞–º–∏¬ª." },
            { block: "B", type: "–°–∫–ª–æ–Ω–µ–Ω–∏–µ", question: "¬´–° –¥–≤—É–º—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏ –∏ –ø—è—Ç—å—é –∏–Ω–∂–µ–Ω–µ—Ä–∞–º–∏¬ª ‚Äî –∫–∞–∫–æ–π –ø–∞–¥–µ–∂?", options: ["–†–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π", "–î–∞—Ç–µ–ª—å–Ω—ã–π", "–¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π"], correct: 2, hint: "–° –∫–µ–º? ‚Äî –¢.–ø.", hintUz: "Kim bilan? ‚Äî vosita kelishigi", explanation: "¬´–° –∫–µ–º?¬ª ‚Äî —Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂: —Å –¥–≤—É–º—è, —Å –ø—è—Ç—å—é." },

            // –ë–õ–û–ö –í: –¢–µ–∫—Å—Ç –æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è—Ö (8 –≤–æ–ø—Ä–æ—Å–æ–≤)
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–ö–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è —ç–∫–æ–Ω–æ–º–∏—Å—Ç–∞?", options: ["–î–µ—Å—è—Ç–∫–∏ –ª–µ—Ç –Ω–∞–∑–∞–¥", "–°–æ—Ç–Ω–∏ –ª–µ—Ç –Ω–∞–∑–∞–¥", "–¢—ã—Å—è—á–∏ –ª–µ—Ç –Ω–∞–∑–∞–¥"], correct: 1, hint: "–° –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –ø–æ–Ω—è—Ç–∏–π ¬´—Ç–æ–≤–∞—Ä¬ª, ¬´–¥–µ–Ω—å–≥–∏¬ª, ¬´–æ–±–º–µ–Ω¬ª", hintUz: "¬´Tovar¬ª, ¬´pul¬ª, ¬´ayirboshlash¬ª tushunchalari paydo bo'lganda", explanation: "–ü–æ —Ç–µ–∫—Å—Ç—É: ¬´–≠—Ç–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è –≤–æ–∑–Ω–∏–∫–ª–∞ —Å–æ—Ç–Ω–∏ –ª–µ—Ç –Ω–∞–∑–∞–¥¬ª." },
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ —ç–∫–æ–Ω–æ–º–∏—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ü–∏—Ñ—Ä–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π?", options: ["–ë–æ–ª–µ–µ 50%", "–ë–æ–ª–µ–µ 80%", "–ë–æ–ª–µ–µ 90%"], correct: 1, hint: "–ë–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –≤—Ä–µ–º–µ–Ω–∏", hintUz: "Vaqtning katta qismi", explanation: "¬´–ë–æ–ª–µ–µ 80 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ —ç–∫–æ–Ω–æ–º–∏—Å—Ç–∞ —É—Ö–æ–¥–∏—Ç –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏¬ª." },
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ —É—Ö–æ–¥–∏—Ç –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è?", options: ["5%", "10%", "20%"], correct: 1, hint: "–ö–∞–∫ –∏ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –≤–ª–∏—è–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–æ–≤", hintUz: "Omillar ta'sirini o'rganishdek", explanation: "¬´10 –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ ‚Äî –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è¬ª." },
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–ü–æ –º–Ω–µ–Ω–∏—é –î–∂. –ú. –ö–µ–π–Ω—Å–∞, —ç–∫–æ–Ω–æ–º–∏—Å—Ç –¥–æ–ª–∂–µ–Ω –∏–∑—É—á–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤ —Å–≤–µ—Ç–µ:", options: ["–ë—É–¥—É—â–µ–≥–æ", "–ü—Ä–æ—à–ª–æ–≥–æ", "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"], correct: 1, hint: "–†–∞–¥–∏ —á–µ–≥–æ? ‚Äî —Ä–∞–¥–∏ –±—É–¥—É—â–µ–≥–æ", hintUz: "Nima uchun? ‚Äî kelajak uchun", explanation: "¬´–û–Ω –¥–æ–ª–∂–µ–Ω –∏–∑—É—á–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤ —Å–≤–µ—Ç–µ –ø—Ä–æ—à–ª–æ–≥–æ ‚Äî —Ä–∞–¥–∏ –±—É–¥—É—â–µ–≥–æ¬ª." },
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–ö–∞–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ù–ï –Ω–∞–∑–≤–∞–Ω–æ –≤ —Ç–µ–∫—Å—Ç–µ –∫–∞–∫ –≤–∞–∂–Ω–æ–µ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏—Å—Ç–∞?", options: ["–ö–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å", "–¢–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥", "–•–æ—Ä–æ—à–∞—è –ø–∞–º—è—Ç—å"], correct: 1, hint: "–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã: –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, —Å–∫–æ—Ä–æ—Å—Ç—å, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å...", hintUz: "Ko'rsatilgan: diqqat, tezlik, e'tiborlilik...", explanation: "–í —Ç–µ–∫—Å—Ç–µ –Ω–∞–∑–≤–∞–Ω—ã: –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è, —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∫–æ–º–º—É–Ω–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—å, —Ö–æ—Ä–æ—à–∞—è –ø–∞–º—è—Ç—å. –¢–≤–æ—Ä—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥ –Ω–µ —É–ø–æ–º—è–Ω—É—Ç." },
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–ì–¥–µ —Å–µ–≥–æ–¥–Ω—è –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω—ã —ç–∫–æ–Ω–æ–º–∏—Å—Ç—ã (–ø–æ —Ç–µ–∫—Å—Ç—É)?", options: ["–¢–æ–ª—å–∫–æ –≤ –±–∞–Ω–∫–∞—Ö", "–í —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö, —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö, —Ä–µ—Å—Ç–æ—Ä–∞–Ω–Ω–æ–º –±–∏–∑–Ω–µ—Å–µ", "–¢–æ–ª—å–∫–æ –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∞—Ö"], correct: 1, hint: "–†–∞–∑–Ω—ã–µ –æ—Ç—Ä–∞—Å–ª–∏ —ç–∫–æ–Ω–æ–º–∏–∫–∏", hintUz: "Turli iqtisodiy tarmoqlar", explanation: "¬´–≠–∫–æ–Ω–æ–º–∏—Å—Ç—ã —Ç—Ä–µ–±—É—é—Ç—Å—è –≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö, —Ñ–∞—Ä–º–∞—Ü–µ–≤—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ—Å—Ç–∏, —Ä–µ—Å—Ç–æ—Ä–∞–Ω–Ω–æ–º –±–∏–∑–Ω–µ—Å–µ¬ª." },
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–ü–æ—á–µ–º—É –Ω–∞ —Ä—ã–Ω–∫–µ –≤–∞–∫–∞–Ω—Å–∏–π –ø–µ—Ä–µ–∏–∑–±—ã—Ç–æ–∫ —ç–∫–æ–Ω–æ–º–∏—Å—Ç–æ–≤?", options: ["–ù–∏–∑–∫–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞", "–í—É–∑—ã –µ–∂–µ–≥–æ–¥–Ω–æ –≤—ã–ø—É—Å–∫–∞—é—Ç –º–Ω–æ–≥–æ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤", "–≠–∫–æ–Ω–æ–º–∏—Å—Ç—ã –Ω–µ –Ω—É–∂–Ω—ã"], correct: 1, hint: "–ü—Ä–æ–±–ª–µ–º–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤", hintUz: "Bitiruvchilar soni muammosi", explanation: "¬´–ï–∂–µ–≥–æ–¥–Ω–æ –≤—É–∑—ã –≤—ã–ø—É—Å–∫–∞—é—Ç –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–∫–æ–Ω–æ–º–∏—Å—Ç–æ–≤. –≠—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –ø–µ—Ä–µ–∏–∑–±—ã—Ç–æ–∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤¬ª." },
            { block: "C", type: "–¢–µ–∫—Å—Ç", question: "–ö–∞–∫–∏–º–∏ –∫–∞—á–µ—Å—Ç–≤–∞–º–∏ –¥–æ–ª–∂–µ–Ω –æ–±–ª–∞–¥–∞—Ç—å —É—á–∏—Ç–µ–ª—å –ø–æ –î. –õ–∏—Ö–∞—á—ë–≤—É?", options: ["–¢–æ–ª—å–∫–æ –∑–Ω–∞–Ω–∏—è–º–∏", "–¢–≤–æ—Ä—á–µ—Å–∫–∏–º –ø–æ–¥—Ö–æ–¥–æ–º –∏ –ª—é–±–æ–≤—å—é –∫ –º–∏—Ä—É", "–¢–æ–ª—å–∫–æ —Å—Ç—Ä–æ–≥–æ—Å—Ç—å—é"], correct: 1, hint: "–í–æ—Å–ø–∏—Ç—ã–≤–∞–µ—Ç –ª–∏—á–Ω–æ—Å—Ç—å—é, –∑–Ω–∞–Ω–∏—è–º–∏, –ª—é–±–æ–≤—å—é", hintUz: "Shaxsiyati, bilimlari, sevgisi bilan tarbiyalaydi", explanation: "¬´–í–æ—Å–ø–∏—Ç—ã–≤–∞–µ—Ç –ª–∏—á–Ω–æ—Å—Ç—å—é —Å–≤–æ–µ–π, —Å–≤–æ–∏–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏ –∏ –ª—é–±–æ–≤—å—é, —Å–≤–æ–∏–º –æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º –∫ –º–∏—Ä—É¬ª." }
        ];

        let currentQuestion = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let selectedOption = null;
        let answered = false;
        let shuffledQuestions = [];
        let currentShuffledOptions = [];
        let answeredQuestions = [];
        let blockStats = { A: { correct: 0, total: 0 }, B: { correct: 0, total: 0 }, C: { correct: 0, total: 0 } };

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        document.addEventListener('DOMContentLoaded', () => {
            shuffledQuestions = shuffleArray(questions);
            answeredQuestions = new Array(shuffledQuestions.length).fill(null);
            countBlocks();
            renderQuestionMap();
            renderQuestion();
        });

        function countBlocks() {
            shuffledQuestions.forEach(q => { blockStats[q.block].total++; });
        }

        function showSection(section, btn) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
            document.getElementById(section).classList.add('active');
            if (btn) btn.classList.add('active');
        }

        function renderQuestionMap() {
            const map = document.getElementById('questionMap');
            map.innerHTML = shuffledQuestions.map((q, i) => {
                let status = 'unanswered';
                if (answeredQuestions[i] === true) status = 'correct';
                else if (answeredQuestions[i] === false) status = 'incorrect';
                if (i === currentQuestion) status = 'current';
                return `<div class="map-dot ${status} block-${q.block.toLowerCase()}" onclick="goToQuestion(${i})">${i + 1}</div>`;
            }).join('');
        }

        function goToQuestion(index) {
            if (index < currentQuestion || answered) return;
            currentQuestion = index;
            renderQuestion();
            renderQuestionMap();
        }

        function renderQuestion() {
            if (currentQuestion >= shuffledQuestions.length) { showResults(); return; }

            const q = shuffledQuestions[currentQuestion];
            const card = document.getElementById('questionCard');
            
            const optionsWithIndex = q.options.map((opt, i) => ({ text: opt, originalIndex: i }));
            currentShuffledOptions = shuffleArray(optionsWithIndex);
            
            const blockNames = { A: '–ë–ª–æ–∫ –ê: –í–∏–¥—ã', B: '–ë–ª–æ–∫ –ë: –°–∫–ª–æ–Ω–µ–Ω–∏–µ', C: '–ë–ª–æ–∫ –í: –¢–µ–∫—Å—Ç' };
            document.getElementById('blockName').textContent = blockNames[q.block];
            
            card.innerHTML = `
                <div class="question-header">
                    <span class="question-number">–í–æ–ø—Ä–æ—Å ${currentQuestion + 1}</span>
                    <span class="question-type block-${q.block.toLowerCase()}">${q.type}</span>
                </div>
                <div class="question-text">${q.question}</div>
                <div class="options-container">
                    ${currentShuffledOptions.map((opt, i) => `
                        <div class="option" onclick="selectOption(${i})" data-index="${i}">
                            <span class="option-marker">${String.fromCharCode(65 + i)}</span>
                            <span class="option-text">${opt.text}</span>
                        </div>
                    `).join('')}
                </div>
                <div class="hint-container">
                    <button class="hint-btn" onclick="showHint()">
                        <span class="lamp">üí°</span> –ü–æ–¥—Å–∫–∞–∑–∫–∞
                    </button>
                    <div class="hint-box" id="hintBox">
                        <div class="hint-label">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:</div>
                        <div class="hint-text">${q.hint}</div>
                        <div class="hint-text-uz">${q.hintUz}</div>
                    </div>
                </div>
                <div class="feedback" id="feedback"></div>
                <div class="btn-container">
                    <button class="btn btn-primary" id="checkBtn" onclick="checkAnswer()" disabled>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()" style="display:none;">–î–∞–ª—å—à–µ ‚Üí</button>
                </div>
            `;

            selectedOption = null;
            answered = false;
            updateProgress();
            renderQuestionMap();
        }

        function selectOption(index) {
            if (answered) return;
            document.querySelectorAll('.option').forEach(opt => opt.classList.remove('selected'));
            document.querySelector(`.option[data-index="${index}"]`).classList.add('selected');
            selectedOption = index;
            document.getElementById('checkBtn').disabled = false;
        }

        function showHint() { document.getElementById('hintBox').classList.toggle('show'); }

        function checkAnswer() {
            if (selectedOption === null || answered) return;
            
            answered = true;
            const q = shuffledQuestions[currentQuestion];
            const options = document.querySelectorAll('.option');
            const feedback = document.getElementById('feedback');
            
            const selectedOriginalIndex = currentShuffledOptions[selectedOption].originalIndex;
            options.forEach(opt => opt.classList.add('disabled'));
            
            const correctShuffledIndex = currentShuffledOptions.findIndex(opt => opt.originalIndex === q.correct);
            
            if (selectedOriginalIndex === q.correct) {
                correctAnswers++;
                blockStats[q.block].correct++;
                answeredQuestions[currentQuestion] = true;
                options[selectedOption].classList.add('correct');
                feedback.className = 'feedback show correct';
                feedback.innerHTML = `<div class="feedback-title">‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</div><div class="feedback-text">${q.explanation}</div>`;
            } else {
                incorrectAnswers++;
                answeredQuestions[currentQuestion] = false;
                options[selectedOption].classList.add('incorrect');
                options[correctShuffledIndex].classList.add('correct');
                feedback.className = 'feedback show incorrect';
                feedback.innerHTML = `<div class="feedback-title">‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</div><div class="feedback-text">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: <strong>${q.options[q.correct]}</strong></div><div class="feedback-explanation">${q.explanation}</div>`;
            }
            
            document.getElementById('checkBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-flex';
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('incorrectCount').textContent = incorrectAnswers;
            renderQuestionMap();
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion >= shuffledQuestions.length) { showResults(); } 
            else { renderQuestion(); }
        }

        function updateProgress() {
            document.getElementById('currentQ').textContent = currentQuestion + 1;
            document.getElementById('totalQ').textContent = shuffledQuestions.length;
            
            const percent = Math.round((currentQuestion / shuffledQuestions.length) * 100);
            document.getElementById('progressPercent').textContent = percent + '%';
            
            const circle = document.getElementById('progressCircle');
            const circumference = 2 * Math.PI * 30;
            const offset = circumference - (percent / 100) * circumference;
            circle.style.strokeDashoffset = offset;
        }

        function showResults() {
            document.getElementById('resultsTab').style.display = 'inline-flex';
            showSection('results', document.getElementById('resultsTab'));
            
            const score = correctAnswers;
            const total = shuffledQuestions.length;
            const percent = Math.round((score / total) * 100);
            
            document.getElementById('resultsScore').textContent = `${score}/${total}`;
            document.getElementById('statA').textContent = `${blockStats.A.correct}/${blockStats.A.total}`;
            document.getElementById('statB').textContent = `${blockStats.B.correct}/${blockStats.B.total}`;
            document.getElementById('statC').textContent = `${blockStats.C.correct}/${blockStats.C.total}`;
            
            let icon, title, recommendation;
            if (percent >= 90) {
                icon = 'üèÜ'; title = '–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!';
                recommendation = '–í—ã –æ—Ç–ª–∏—á–Ω–æ —É—Å–≤–æ–∏–ª–∏ —Ç–µ–º—É ¬´–ò–º—è —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω–æ–µ¬ª! –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–æ–±–∏—Ä–∞—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º.';
            } else if (percent >= 70) {
                icon = 'üéâ'; title = '–•–æ—Ä–æ—à–æ!';
                recommendation = '–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ —Å–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö.';
            } else if (percent >= 50) {
                icon = 'üìö'; title = '–ù–µ–ø–ª–æ—Ö–æ!';
                const weakBlock = Object.entries(blockStats).sort((a, b) => (a[1].correct/a[1].total) - (b[1].correct/b[1].total))[0][0];
                const blockNames = { A: '–≤–∏–¥–∞–º —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö', B: '—Å–∫–ª–æ–Ω–µ–Ω–∏—é', C: '—Ç–µ–∫—Å—Ç—É –æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è—Ö' };
                recommendation = `–£–¥–µ–ª–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ ${blockNames[weakBlock]}. –ü–µ—Ä–µ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.`;
            } else {
                icon = 'üí™'; title = '–ù—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å';
                recommendation = '–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∏–∑—É—á–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —Å–∫–ª–æ–Ω–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏ –ø–æ—Ä—è–¥–∫–æ–≤—ã—Ö —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö.';
            }
            
            document.getElementById('resultsIcon').textContent = icon;
            document.getElementById('resultsTitle').textContent = title;
            document.getElementById('recommendationText').textContent = recommendation;
        }

        function restartTest() {
            currentQuestion = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            blockStats = { A: { correct: 0, total: 0 }, B: { correct: 0, total: 0 }, C: { correct: 0, total: 0 } };
            document.getElementById('correctCount').textContent = 0;
            document.getElementById('incorrectCount').textContent = 0;
            document.getElementById('resultsTab').style.display = 'none';
            shuffledQuestions = shuffleArray(questions);
            answeredQuestions = new Array(shuffledQuestions.length).fill(null);
            countBlocks();
            showSection('test', document.querySelector('.tab-btn:nth-child(2)'));
            renderQuestionMap();
            renderQuestion();
        }

        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && (e.key === 'c' || e.key === 'u' || e.key === 's')) { e.preventDefault(); }
        });
    </script>
</body>
</html>
